---
title: "Educational Trends in Turkey (2008â€“2023)"
format: html
---

# ğŸš€ Higher Education Attainment Trends (2008â€“2023)

**Key Insights:**  
- The proportion of **associate degree, bachelor's degree, master's degree, and doctorate graduates** aged **25 and above** increased significantly from **9.8% in 2008** to **24.6% in 2023**.  
- Similarly, the proportion of **secondary education and above graduates** rose from **26.5% in 2008** to **48.3% in 2023**.

**Analysis:**  
- This significant improvement indicates **increased access to higher education opportunities** in Turkey over the past 15 years.  
- Policy reforms, educational infrastructure improvements, and increased participation of women in higher education likely contributed to this growth.  
- Despite improvements, nearly **75.4% of the population aged 25 and above in 2023 still do not hold a university degree**, indicating room for further growth.

**Implications:**  
- Policies should focus on **bridging regional disparities** and **supporting economically disadvantaged groups** to access higher education.  
- Investments in **lifelong learning programs** can target the adult population with limited formal education.

---

::: {.cell}
<img src="gender_inequality_pie_chart_by_level.gif" alt="KadÄ±n-Erkek FarkÄ± IsÄ± DaÄŸÄ±lÄ±m GrafiÄŸi" style="width: 100%; display: block; margin: 0 auto;" />

---

# ğŸ“š Average Duration of Education (2023)

**Key Insights:**  
- In **2023**, the **average duration of education** for individuals aged **25 and over** was **9.3 years**.
- **Gender Gap:**  
   - Women: **8.6 years**  
   - Men: **10.1 years**

---

```{python}
import pandas as pd
import matplotlib.pyplot as plt

# Veri setini yÃ¼kle ve tamamen boÅŸ sÃ¼tunlarÄ± kaldÄ±r
df = pd.read_excel('/home/mami/emu430/emu430-fall2024-team-education_atlas/data/yÄ±llara_gÃ¶re_egitim.xlsx')
df = df.dropna(axis=1, how='all')

# Ä°lk iki satÄ±rÄ± baÅŸlÄ±k olarak kullan ve eksik deÄŸerleri doldur
header1 = df.iloc[0].bfill()
header2 = df.iloc[1].bfill()

# Ã‡ok seviyeli (MultiIndex) baÅŸlÄ±klar oluÅŸtur
df.columns = pd.MultiIndex.from_tuples(zip(header1, header2))
df = df.iloc[2:].reset_index(drop=True)

# Ä°lk 3 sÃ¼tunu tek seviyeli baÅŸlÄ±k yap
first_three_headers = ['YÄ±l', 'Ä°l Kodu', 'Ä°l AdÄ±']

# Ana baÅŸlÄ±klar ve alt baÅŸlÄ±klarÄ± tanÄ±mla
main_headers = [
    'Genel toplam', 'Okuma yazma bilmeyen', 'Okuma yazma bilen fakat bir okul bitirmeyen',
    'Ä°lkokul', 'Ä°lkÃ¶ÄŸretim', 'Ortaokul ve dengi meslek', 'Lise ve dengi meslek',
    'YÃ¼ksekokul veya fakÃ¼lte', 'YÃ¼ksek lisans', 'Doktora', 'Bilinmeyen'
]
sub_headers = ['Toplam', 'Erkek', 'KadÄ±n']

# SÃ¼tunlarÄ± 3'erli gruplar hÃ¢linde dÃ¼zenle
education_columns = []
for main in main_headers:
    for sub in sub_headers:
        education_columns.append(f"{main}_{sub}")

# TÃ¼m baÅŸlÄ±klarÄ± birleÅŸtir
final_headers = first_three_headers + education_columns[:df.shape[1] - len(first_three_headers)]
df.columns = final_headers

# YÄ±l sÃ¼tununu kontrol et
df['YÄ±l'] = pd.to_numeric(df['YÄ±l'], errors='coerce')
df = df.dropna(subset=['YÄ±l'])
df['YÄ±l'] = df['YÄ±l'].astype(int)

# 2023 yÄ±lÄ± verilerini Ã§ek
df_2023 = df[df['YÄ±l'] == 2023].copy()

# EÄŸitim dÃ¼zeylerine karÅŸÄ±lÄ±k gelen yÄ±l sÃ¼releri
education_years = {
    'Okuma yazma bilmeyen': 0,
    'Ä°lkokul': 5,
    'Ä°lkÃ¶ÄŸretim': 8,
    'Ortaokul ve dengi meslek': 8,
    'Lise ve dengi meslek': 12,
    'YÃ¼ksekokul veya fakÃ¼lte': 16,
    'YÃ¼ksek lisans': 18,
    'Doktora': 22
}

# EÄŸitim sÃ¼resi hesaplamasÄ±
def calculate_avg_education_duration(row):
    total_years = 0
    total_students = 0
    
    for level, years in education_years.items():
        col_name = f"{level}_Toplam"
        if col_name in row.index and pd.notnull(row[col_name]):
            total_years += row[col_name] * years
            total_students += row[col_name]
    
    if total_students == 0:
        return 0
    return total_years / total_students

# Ortalama eÄŸitim sÃ¼resi hesapla
df_2023['Education_Avg'] = df_2023.apply(calculate_avg_education_duration, axis=1)

# 'TÃ¼rkiye' satÄ±rÄ±nÄ± Ã§Ä±kar
df_2023 = df_2023[~df_2023['Ä°l AdÄ±'].str.contains('TÃ¼rkiye', case=False, na=False)]

# En yÃ¼ksek ve en dÃ¼ÅŸÃ¼k ortalamaya sahip illeri bul
top5_provinces = df_2023.nlargest(5, 'Education_Avg')[['Ä°l AdÄ±', 'Education_Avg']]
bottom5_provinces = df_2023.nsmallest(5, 'Education_Avg')[['Ä°l AdÄ±', 'Education_Avg']]

# SonuÃ§larÄ± yazdÄ±r
print("âœ… Provinces with the Highest Average Years of Education:")
print(top5_provinces)

print("\nâœ… Provinces with the Lowest Average Years of Education:")
print(bottom5_provinces)

# Grafik oluÅŸturma
import matplotlib.pyplot as plt

fig, ax = plt.subplots(figsize=(10, 6))
ax.bar(top5_provinces['Ä°l AdÄ±'], top5_provinces['Education_Avg'], color='skyblue', label='Highest Average')
ax.bar(bottom5_provinces['Ä°l AdÄ±'], bottom5_provinces['Education_Avg'], color='orange', label='Lowest Average')

ax.set_xlabel('Provinces')
ax.set_ylabel('Average Education Duration (Years)')
ax.set_title('Highest and Lowest Average Education Duration by Province (2023)')
ax.legend()
plt.xticks(rotation=30, ha='right')
plt.tight_layout()
plt.show()


```


---
```{python}
import pandas as pd
import matplotlib.pyplot as plt

# Veri setini yÃ¼kle ve tamamen boÅŸ sÃ¼tunlarÄ± kaldÄ±r
df = pd.read_excel('/home/mami/emu430/emu430-fall2024-team-education_atlas/data/yÄ±llara_gÃ¶re_egitim.xlsx')
df = df.dropna(axis=1, how='all')

# Ä°lk iki satÄ±rÄ± baÅŸlÄ±k olarak kullan ve eksik deÄŸerleri doldur
header1 = df.iloc[0].bfill()
header2 = df.iloc[1].bfill()

# Ã‡ok seviyeli (MultiIndex) baÅŸlÄ±klar oluÅŸtur
df.columns = pd.MultiIndex.from_tuples(zip(header1, header2))
df = df.iloc[2:].reset_index(drop=True)

# Ã‡ok seviyeli sÃ¼tunlarÄ± birleÅŸtir
df.columns = ['_'.join(map(str, col)).strip() if isinstance(col, tuple) else col for col in df.columns]

# YÄ±l sÃ¼tununu bul ve adÄ±nÄ± kontrol et
year_column = [col for col in df.columns if 'YÄ±l' in col or 'Unnamed: 0' in col]
if not year_column:
    raise KeyError("Veri setinde 'YÄ±l' sÃ¼tunu bulunamadÄ±.")
year_column = year_column[0]  # Ä°lk eÅŸleÅŸeni al

# YÄ±l sÃ¼tununu dÃ¼zenle
df['YÄ±l'] = pd.to_numeric(df[year_column], errors='coerce')
df = df.dropna(subset=['YÄ±l'])
df['YÄ±l'] = df['YÄ±l'].astype(int)

# Ä°l AdÄ± sÃ¼tununu kontrol et
province_column = [col for col in df.columns if 'Ä°l AdÄ±' in col or 'Unnamed: 2' in col]
if not province_column:
    raise KeyError("Veri setinde 'Ä°l AdÄ±' sÃ¼tunu bulunamadÄ±.")
province_column = province_column[0]  # Ä°lk eÅŸleÅŸeni al

# 2014 ve 2023 verilerini Ã§ek
df_2014 = df[df['YÄ±l'] == 2014].copy()
df_2023 = df[df['YÄ±l'] == 2023].copy()

# EÄŸitim sÃ¼relerini hesapla
education_columns = [col for col in df.columns if 'Toplam' in col and 'Genel toplam' not in col]
df_2014['Education_Avg'] = df_2014[education_columns].mean(axis=1)
df_2023['Education_Avg'] = df_2023[education_columns].mean(axis=1)

# Ä°l bazÄ±nda ortalama eÄŸitim sÃ¼resindeki deÄŸiÅŸim oranÄ±nÄ± hesapla
df_change = pd.merge(
    df_2014[[province_column, 'Education_Avg']],
    df_2023[[province_column, 'Education_Avg']],
    on=province_column,
    suffixes=('_2014', '_2023')
)
df_change['Change_Rate'] = ((df_change['Education_Avg_2023'] - df_change['Education_Avg_2014']) / df_change['Education_Avg_2014']) * 100

# TÃ¼r dÃ¶nÃ¼ÅŸÃ¼mÃ¼ ve geÃ§ersiz deÄŸerlerin temizlenmesi
df_change['Change_Rate'] = pd.to_numeric(df_change['Change_Rate'], errors='coerce')
df_change = df_change.dropna(subset=['Change_Rate'])

# En yÃ¼ksek ve en dÃ¼ÅŸÃ¼k deÄŸiÅŸim oranÄ±na sahip illeri belirle
top5_change = df_change.nlargest(5, 'Change_Rate')
bottom5_change = df_change.nsmallest(5, 'Change_Rate')

# SonuÃ§larÄ± yazdÄ±r
print("âœ… Provinces with the Highest Change Rate in Years of Education:")
print(top5_change[[province_column, 'Change_Rate']])

print("âœ… Provinces with the Lowest Change Rate in Years of Education:")
print(bottom5_change[[province_column, 'Change_Rate']])

# Grafik oluÅŸturma
fig, ax = plt.subplots(figsize=(12, 7))

# En yÃ¼ksek deÄŸiÅŸim oranlarÄ±
ax.bar(top5_change[province_column], top5_change['Change_Rate'], color='green', label='Highest Improvement')

# En dÃ¼ÅŸÃ¼k deÄŸiÅŸim oranlarÄ±
ax.bar(bottom5_change[province_column], bottom5_change['Change_Rate'], color='red', label='Lowest Improvement')

# Grafik detaylarÄ±
ax.set_title('Highest and Lowest Improvement in Education Duration (2014â€“2023)')
ax.set_xlabel('Provinces')
ax.set_ylabel('Change Rate (%)')
ax.legend()
plt.xticks(rotation=45, ha='right')
plt.tight_layout()
plt.show()


```

---

# ğŸ“ˆ Literacy Rates (2008â€“2023)

**Key Insights:**  
- The literacy rate among individuals aged **6 years and over** increased from **91.8% in 2008** to **97.6% in 2023**.  
- **Women:** Improved from **86.9%** to **96.0%**.  
- **Men:** Improved from **96.7%** to **99.2%**.

**Analysis:**  
- The significant improvement in women's literacy rates suggests a **successful reduction in gender disparity** in education.  
- Despite the progress, the remaining **4% illiteracy rate** among women indicates persistent **cultural and socio-economic barriers** in certain regions.

**Implications:**  
- Adult literacy programs targeting women in rural and underserved areas remain critical.  
- Efforts should focus on **ensuring literacy for the remaining 4% of the population**, particularly women in remote areas.

---

::: {.cell}
<img src="gender_difference_heatmap.gif" alt="KadÄ±n-Erkek FarkÄ± IsÄ± DaÄŸÄ±lÄ±m GrafiÄŸi" style="width: 100%; display: block; margin: 0 auto;" />

---

# ğŸ‘©â€ğŸ“ğŸ‘¨â€ğŸ“ Parental Education Influence

**Key Insights:**
- **Mothers with Higher Education:**  
   - 84.6% of their children completed **higher education**.  
   - 12.5% completed **secondary education**.  
   - 2.9% completed **lower secondary education**.
- **Fathers with Higher Education:**  
   - 80.2% completed **higher education**.  
   - 16.0% completed **secondary education**.  
   - 3.8% completed **lower secondary education**.

**Parents with Secondary Education:**  
- **Mothers:** 64.3% attained **higher education**.  
- **Fathers:** 55.4% attained **higher education**.

**Parents with Lower Secondary Education:**  
- **Mothers:** 27.9% attained **higher education**.  
- **Fathers:** 26.6% attained **higher education**.

**Analysis:**  
- There is a **strong correlation between parental education levels and children's educational outcomes**.
- **Mothers' education level** appears to have a slightly stronger influence than fathers'.

**Implications:**  
- Supporting **parental education initiatives** can break the cycle of low educational attainment.  
- Programs targeting parents in low-education regions could indirectly improve children's education levels.

---

# ğŸ“ General Recommendations

1. **Focus on Regional Disparities:** Prioritize investment in provinces with lower education durations.
2. **Close the Gender Gap:** Launch **gender-specific education campaigns**.
3. **Adult Education Programs:** Expand literacy and education programs.
4. **Parental Education Awareness:** Implement campaigns for **parental influence** in education.
5. **Sustain Urban Improvements:** Emphasize **lifelong learning programs**.

**Conclusion:** Significant progress has been made, but **regional disparities, gender gaps, and parental influence** remain key areas for intervention. A strategic, inclusive approach will drive sustainable improvements in Turkey's education landscape.









```{python}
import pandas as pd

# Veri setini yÃ¼kle ve tamamen boÅŸ sÃ¼tunlarÄ± kaldÄ±r
df = pd.read_excel('/home/mami/emu430/emu430-fall2024-team-education_atlas/data/yÄ±llara_gÃ¶re_egitim.xlsx')
df = df.dropna(axis=1, how='all')

# YÄ±llarÄ± ve indeks aralÄ±klarÄ±nÄ± tanÄ±mla
years = list(range(2008, 2024))  # 2008'den 2023'e kadar
index_ranges = [(1 + i * 82, 1 + (i + 1) * 82) for i in range(len(years))]

# Her yÄ±l iÃ§in alt veri Ã§erÃ§evelerini oluÅŸtur
yearly_data = {}
for year, (start, end) in zip(years, index_ranges):
    yearly_data[year] = df.iloc[start:end]

# Ä°lk birkaÃ§ yÄ±lÄ±n veri Ã§erÃ§evelerini kontrol et
sample_years = {year: data.head(1) for year, data in list(yearly_data.items())[:3]}

# Ä°lk iki satÄ±rÄ± baÅŸlÄ±k olarak kullan ve eksik deÄŸerleri doldur
header1 = df.iloc[0].bfill()
header2 = df.iloc[1].bfill()

# Ã‡ok seviyeli (MultiIndex) baÅŸlÄ±klar oluÅŸtur
df.columns = pd.MultiIndex.from_tuples(zip(header1, header2))

# Ä°lk iki satÄ±rÄ± kaldÄ±r ve veri setini sÄ±fÄ±rla
df = df.iloc[2:].reset_index(drop=True)

# Ä°lk 3 sÃ¼tun iÃ§in tek seviyeli baÅŸlÄ±klar oluÅŸtur
first_three_headers = ['YÄ±l', 'Ä°l Kodu', 'Ä°l AdÄ±']

# Ana baÅŸlÄ±klar ve alt baÅŸlÄ±klarÄ± tanÄ±mla
main_headers = [
    'Genel toplam', 'Okuma yazma bilmeyen', 'Okuma yazma bilen fakat bir okul bitirmeyen',
    'Ä°lkokul', 'Ä°lkÃ¶ÄŸretim', 'Ortaokul ve dengi meslek', 'Lise ve dengi meslek',
    'YÃ¼ksekokul veya fakÃ¼lte', 'YÃ¼ksek lisans', 'Doktora', 'Bilinmeyen'
]
sub_headers = ['Toplam', 'Erkek', 'KadÄ±n']

# Ã‡ok seviyeli baÅŸlÄ±klarÄ± oluÅŸtur
remaining_headers = [(main, sub) for main in main_headers for sub in sub_headers]

# TÃ¼m baÅŸlÄ±klarÄ± birleÅŸtir
final_headers = first_three_headers + remaining_headers[:df.shape[1] - len(first_three_headers)]

df.columns = pd.MultiIndex.from_tuples(
    [(header, '') if isinstance(header, str) else header for header in final_headers]
)

if isinstance(df.columns, pd.MultiIndex):
    df.columns = ['_'.join(map(str, col)).strip() if isinstance(col, tuple) else col for col in df.columns]

# YÄ±l sÃ¼tununu bul
year_column = [col for col in df.columns if 'YÄ±l' in col]
if not year_column:
    raise KeyError("Veri setinde 'YÄ±l' sÃ¼tunu bulunamadÄ±.")
year_column = year_column[0]


import matplotlib.pyplot as plt
import pandas as pd
import numpy as np
import seaborn as sns
from PIL import Image
import os
import plotly.express as px
import plotly.graph_objects as go
import json



def create_turkey_interactive_map(df):
    """
    TÃ¼rkiye haritasÄ± Ã¼zerinde ÅŸehir bazÄ±nda kadÄ±n-erkek farkÄ±nÄ± ve belirli baÅŸlÄ±klardaki cinsiyet eÅŸitsizlik indekslerini gÃ¶steren etkileÅŸimli bir harita oluÅŸturur.
    """
    city_column = [col for col in df.columns if 'Ä°l AdÄ±' in col][0]
    year_column = [col for col in df.columns if 'YÄ±l' in col][0]
    years = df[year_column].dropna().unique()
    
    # JSON dosyasÄ±nÄ± doÄŸrula
    geojson_path = 'data/tr-cities.json'
    if not os.path.exists(geojson_path):
        raise FileNotFoundError("GeoJSON dosyasÄ± bulunamadÄ±: data/tr-cities.json")
    
    with open(geojson_path) as f:
        geojson = json.load(f)
    
    # Veri temizliÄŸi ve eÅŸleÅŸtirme
    df = clean_turkey_city_names(df)
    df = map_city_numbers(df, geojson)
    df = calculate_gender_inequality_indices(df)
    
    dropdown_options = [
        {'label': str(year), 'method': 'update', 'args': [{'visible': [year == y for y in years]}, {'title': f'Cinsiyet EÅŸitsizlik Ä°ndeksi - {year}'}]}
        for year in years
    ]
    
    fig = go.Figure()
    for year in years:
        df_year = df.loc[df[year_column] == year].copy()
        
        # Hover metni iÃ§in gerekli bilgiler
        df_year['hover_text'] = (
            'Åehir: ' + df_year[city_column] + '<br>' +
            'Genel Toplam EÅŸitsizlik: ' + df_year['Genel toplam_EÅŸitsizlik'].astype(str) + '<br>' +
            'Okuma Yazma Bilmeyen: ' + df_year['Okuma yazma bilmeyen_EÅŸitsizlik'].astype(str) + '<br>' +
            'YÃ¼ksekokul veya FakÃ¼lte: ' + df_year['YÃ¼ksekokul veya fakÃ¼lte_EÅŸitsizlik'].astype(str)
        )
        
        # Harita katmanÄ± oluÅŸtur
        fig.add_trace(
            go.Choropleth(
                geojson=geojson,
                locations=df_year['CityNumber'],
                z=df_year['Genel toplam_EÅŸitsizlik'],
                text=df_year['hover_text'],
                hoverinfo='text',
                featureidkey='properties.number',
                colorscale='YlGnBu',  # DÃ¼ÅŸÃ¼k eÅŸitsizlik: YeÅŸil | YÃ¼ksek eÅŸitsizlik: KÄ±rmÄ±zÄ±
                zmin=0,
                zmax=df_year['Genel toplam_EÅŸitsizlik'].max(),
                colorbar_title='EÅŸitsizlik Ä°ndeksi',
                visible=(year == years[0])
            )
        )
    
    fig.update_layout(
        title_text='YÄ±la GÃ¶re Cinsiyet EÅŸitsizlik Ä°ndeksi HaritasÄ±',
        geo=dict(
            fitbounds="locations",
            visible=True
        ),
        updatemenus=[{'buttons': dropdown_options, 'direction': 'down', 'showactive': True}]
    )
    
    fig.show()

def clean_turkey_city_names(df):
    """
    Excel veri Ã§erÃ§evesindeki ÅŸehir adlarÄ±nÄ± temizler ve gerekli dÃ¼zeltmeleri yapar.
    """
    # 'TÃ¼rkiye' ve NaN satÄ±rlarÄ±nÄ± kaldÄ±r
    df = df[~df['Ä°l AdÄ±_'].isin(['tÃ¼rkiye'])]
    df = df.dropna(subset=['Ä°l AdÄ±_'])
    
    # Ã–zel ÅŸehir adÄ± dÃ¼zeltmeleri
    city_replacements = {
        'Afyonkarahisar': 'Afyon',
        'iÌ‡Ã§el': 'mersin'
    }
    df['Ä°l AdÄ±_'] = df['Ä°l AdÄ±_'].replace(city_replacements)
    
    return df


def map_city_numbers(df, geojson):
    """
    Åehir adlarÄ±nÄ± ÅŸehir numaralarÄ±yla eÅŸleÅŸtirir.
    """
    city_mapping = {feature['properties']['name'].strip().lower(): str(feature['properties']['number']) for feature in geojson['features']}
    df['Ä°l AdÄ±_'] = df['Ä°l AdÄ±_'].str.strip().str.lower()
    df['CityNumber'] = df['Ä°l AdÄ±_'].map(city_mapping)
    
    # EÅŸleÅŸmeyen ÅŸehirleri kontrol et
    unmatched_cities = df.loc[df['CityNumber'].isnull(), 'Ä°l AdÄ±_']
    #if not unmatched_cities.empty:
    #    print("âš ï¸ HÃ¢lÃ¢ eÅŸleÅŸmeyen ÅŸehirler var:")
    #    print(unmatched_cities.unique())
    
    return df


def calculate_gender_inequality_indices(df):
    """
    Her ana baÅŸlÄ±k iÃ§in cinsiyet eÅŸitsizlik indekslerini hesaplar ve veri Ã§erÃ§evesine ekler.
    """
    main_headers = [
        'Genel toplam', 'Okuma yazma bilmeyen', 'Okuma yazma bilen fakat bir okul bitirmeyen',
        'Ä°lkokul', 'Ä°lkÃ¶ÄŸretim', 'Ortaokul ve dengi meslek', 'Lise ve dengi meslek',
        'YÃ¼ksekokul veya fakÃ¼lte', 'YÃ¼ksek lisans', 'Doktora', 'Bilinmeyen'
    ]
    
    for header in main_headers:
        female_col = f"{header}_KadÄ±n"
        male_col = f"{header}_Erkek"
        total_col = f"{header}_Toplam"
        
        if female_col in df.columns and male_col in df.columns and total_col in df.columns:
            df[f"{header}_EÅŸitsizlik"] = (df[female_col] - df[male_col]).abs() / df[total_col]
    
    return df



# Veri temizliÄŸi ve harita oluÅŸturma
df = clean_turkey_city_names(df)
create_turkey_interactive_map(df)
```